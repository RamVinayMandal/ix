<!--
SPDX-FileCopyrightText: 2025 Siemens AG

SPDX-License-Identifier: MIT

This source code is licensed under the MIT license found in the
LICENSE file in the root directory of this source tree.
-->

<div style="padding: 1rem; font-size: 0.9rem">
  <h2 style="margin-bottom: 0.5rem">Time Input Validation Tests</h2>
  <div style="margin-bottom: 1rem; padding: 0.75rem; border-radius: 4px">
    <strong>Testing:</strong> Required field validation (red border) after blur. Format: HH:MM:SS
  </div>

  <button
    (click)="clearLogs()"
    style="padding: 0.5rem 1rem; margin-bottom: 1rem; border: none; border-radius: 4px; cursor: pointer; color: white">
    üßπ Clear Log
  </button>

  <!-- Grid Layout for Examples -->
  <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 1rem; margin-bottom: 1rem">

    <!-- 1. Required Standalone -->
    <div style="border: 1px solid #f44336; padding: 1rem; border-radius: 4px">
      <h4 style="margin: 0 0 0.5rem 0; color: #c62828">1Ô∏è‚É£ Required (Standalone)</h4>
      <ix-time-input
        #requiredRef
        name="req1"
        label="Required Time"
        [required]="true"
        [value]="requiredValue"
        (valueChange)="onValueChange($event, '1Ô∏è‚É£', 'requiredValue')"
        (focus)="onFocus('1Ô∏è‚É£', requiredRef, '1Ô∏è‚É£ FOCUS')"
        (blur)="onBlur('1Ô∏è‚É£', requiredRef, '1Ô∏è‚É£ BLUR')"
      ></ix-time-input>
      <div style="display: flex; gap: 0.5rem; margin-top: 0.5rem; flex-wrap: wrap">
        <button type="button" (click)="requiredValue = ''" style="padding: 0.4rem 0.8rem; font-size: 0.85rem; border: none; border-radius: 4px; cursor: pointer; background-color: #757575; color: white">Empty</button>
        <button type="button" (click)="requiredValue = '14:30:00'" style="padding: 0.4rem 0.8rem; font-size: 0.85rem; border: none; border-radius: 4px; cursor: pointer; background-color: #4caf50; color: white">Valid</button>
        <button type="button" (click)="requiredValue = 'invalid'" style="padding: 0.4rem 0.8rem; font-size: 0.85rem; border: none; border-radius: 4px; cursor: pointer; background-color: #ff9800; color: white">Invalid</button>
        <button type="button" (click)="manualBlurAndDebug(requiredRef, '1Ô∏è‚É£ MANUAL')" style="padding: 0.4rem 0.8rem; font-size: 0.85rem; border: none; border-radius: 4px; cursor: pointer; background-color: #ff5722; color: white">Manual Blur</button>
        <button type="button" (click)="clearAndLog(requiredRef, assignEmpty.bind(this, 'requiredValue'), '1Ô∏è‚É£ Cleared')" style="padding: 0.4rem 0.8rem; font-size: 0.85rem; border: none; border-radius: 4px; cursor: pointer; background-color: #9c27b0; color: white">Clear()</button>
      </div>
    </div>

    <!-- 2. Optional Standalone -->
    <div style="border: 1px solid #4caf50; padding: 1rem; border-radius: 4px">
      <h4 style="margin: 0 0 0.5rem 0; color: #2e7d32">2Ô∏è‚É£ Optional (Standalone)</h4>
      <ix-time-input
        #optionalRef
        name="opt1"
        label="Optional Time"
        [value]="optionalValue"
        (valueChange)="onValueChange($event, '2Ô∏è‚É£', 'optionalValue')"
        (focus)="onFocus('2Ô∏è‚É£', optionalRef, '2Ô∏è‚É£ FOCUS')"
        (blur)="onBlur('2Ô∏è‚É£', optionalRef, '2Ô∏è‚É£ BLUR')"
      ></ix-time-input>
      <div style="display: flex; gap: 0.5rem; margin-top: 0.5rem; flex-wrap: wrap">
        <button type="button" (click)="optionalValue = ''" style="padding: 0.4rem 0.8rem; font-size: 0.85rem; border: none; border-radius: 4px; cursor: pointer; color: white">Empty</button>
        <button type="button" (click)="optionalValue = '14:30:00'" style="padding: 0.4rem 0.8rem; font-size: 0.85rem; border: none; border-radius: 4px; cursor: pointer; background-color: #4caf50; color: white">Valid</button>
        <button type="button" (click)="optionalValue = 'invalid'" style="padding: 0.4rem 0.8rem; font-size: 0.85rem; border: none; border-radius: 4px; cursor: pointer; background-color: #ff9800; color: white">Invalid</button>
        <button type="button" (click)="manualBlurAndDebug(optionalRef, '2Ô∏è‚É£ MANUAL')" style="padding: 0.4rem 0.8rem; font-size: 0.85rem; border: none; border-radius: 4px; cursor: pointer; background-color: #ff5722; color: white">Manual Blur</button>
        <button type="button" (click)="clearAndLog(optionalRef, assignEmpty.bind(this, 'optionalValue'), '2Ô∏è‚É£ Cleared')" style="padding: 0.4rem 0.8rem; font-size: 0.85rem; border: none; border-radius: 4px; cursor: pointer; background-color: #9c27b0; color: white">Clear()</button>
      </div>
    </div>

    <!-- 3. Form Required -->
    <div style="border: 1px solid #2196F3; padding: 1rem; border-radius: 4px">
      <h4 style="margin: 0 0 0.5rem 0; color: #1565c0">3Ô∏è‚É£ Required (In Form)</h4>
      <form ngNativeValidate [formGroup]="testForm" (ngSubmit)="onSubmit('3Ô∏è‚É£', 'Form')">
        <ix-time-input
          #formRequiredRef
          name="formReq"
          label="Required Time"
          [required]="true"
          [value]="formRequiredValue"
          (valueChange)="onValueChange($event, '3Ô∏è‚É£', 'formRequiredValue')"
          (focus)="onFocus('3Ô∏è‚É£', formRequiredRef, '3Ô∏è‚É£ FOCUS')"
          (blur)="onBlur('3Ô∏è‚É£', formRequiredRef, '3Ô∏è‚É£ BLUR')"
        ></ix-time-input>
        <div style="display: flex; gap: 0.5rem; margin-top: 0.5rem; flex-wrap: wrap">
          <button type="submit" style="padding: 0.4rem 0.8rem; font-size: 0.85rem; border: none; border-radius: 4px; cursor: pointer; background-color: #2196F3; color: white">Submit</button>
          <button type="button" (click)="formRequiredValue = ''" style="padding: 0.4rem 0.8rem; font-size: 0.85rem; border: none; border-radius: 4px; cursor: pointer; background-color: #757575; color: white">Empty</button>
          <button type="button" (click)="formRequiredValue = '14:30:00'" style="padding: 0.4rem 0.8rem; font-size: 0.85rem; border: none; border-radius: 4px; cursor: pointer; background-color: #4caf50; color: white">Valid</button>
          <button type="button" (click)="formRequiredValue = 'invalid'" style="padding: 0.4rem 0.8rem; font-size: 0.85rem; border: none; border-radius: 4px; cursor: pointer; background-color: #ff9800; color: white">Invalid</button>
          <button type="button" (click)="manualBlurAndDebug(formRequiredRef, '3Ô∏è‚É£ MANUAL')" style="padding: 0.4rem 0.8rem; font-size: 0.85rem; border: none; border-radius: 4px; cursor: pointer; background-color: #ff5722; color: white">Manual Blur</button>
          <button type="button" (click)="clearAndLog(formRequiredRef, assignEmpty.bind(this, 'formRequiredValue'), '3Ô∏è‚É£ Cleared')" style="padding: 0.4rem 0.8rem; font-size: 0.85rem; border: none; border-radius: 4px; cursor: pointer; background-color: #9c27b0; color: white">Clear()</button>
        </div>
      </form>
    </div>

    <!-- 4. Form Optional -->
    <div style="border: 1px solid #009688; padding: 1rem; border-radius: 4px">
      <h4 style="margin: 0 0 0.5rem 0; color: #00695c">4Ô∏è‚É£ Optional (In Form)</h4>
      <form ngNativeValidate [formGroup]="testForm" (ngSubmit)="onSubmit('4Ô∏è‚É£', 'Form')">
        <ix-time-input
          #formOptionalRef
          name="formOpt"
          label="Optional Time"
          [value]="formOptionalValue"
          (valueChange)="onValueChange($event, '4Ô∏è‚É£', 'formOptionalValue')"
          (focus)="onFocus('4Ô∏è‚É£', formOptionalRef, '4Ô∏è‚É£ FOCUS')"
          (blur)="onBlur('4Ô∏è‚É£', formOptionalRef, '4Ô∏è‚É£ BLUR')"
        ></ix-time-input>
        <div style="display: flex; gap: 0.5rem; margin-top: 0.5rem; flex-wrap: wrap">
          <button type="submit" style="padding: 0.4rem 0.8rem; font-size: 0.85rem; border: none; border-radius: 4px; cursor: pointer; background-color: #2196F3; color: white">Submit</button>
          <button type="button" (click)="formOptionalValue = ''" style="padding: 0.4rem 0.8rem; font-size: 0.85rem; border: none; border-radius: 4px; cursor: pointer; background-color: #757575; color: white">Empty</button>
          <button type="button" (click)="formOptionalValue = '14:30:00'" style="padding: 0.4rem 0.8rem; font-size: 0.85rem; border: none; border-radius: 4px; cursor: pointer; background-color: #4caf50; color: white">Valid</button>
          <button type="button" (click)="formOptionalValue = 'invalid'" style="padding: 0.4rem 0.8rem; font-size: 0.85rem; border: none; border-radius: 4px; cursor: pointer; background-color: #ff9800; color: white">Invalid</button>
          <button type="button" (click)="manualBlurAndDebug(formOptionalRef, '4Ô∏è‚É£ MANUAL')" style="padding: 0.4rem 0.8rem; font-size: 0.85rem; border: none; border-radius: 4px; cursor: pointer; background-color: #ff5722; color: white">Manual Blur</button>
          <button type="button" (click)="clearAndLog(formOptionalRef, assignEmpty.bind(this, 'formOptionalValue'), '4Ô∏è‚É£ Cleared')" style="padding: 0.4rem 0.8rem; font-size: 0.85rem; border: none; border-radius: 4px; cursor: pointer; background-color: #9c27b0; color: white">Clear()</button>
        </div>
      </form>
    </div>

    <!-- 5. NoValidate Required -->
    <div style="border: 1px solid #ff9800; padding: 1rem; border-radius: 4px">
      <h4 style="margin: 0 0 0.5rem 0; color: #e65100">5Ô∏è‚É£ Required (NoValidate Form)</h4>
      <form [formGroup]="noValidateForm" (ngSubmit)="onSubmit('5Ô∏è‚É£', 'NoValidate form')" novalidate>
        <ix-time-input
          #noValidateRequiredRef
          name="noValReq"
          label="Required Time"
          [required]="true"
          [value]="noValidateRequiredValue"
          (valueChange)="onValueChange($event, '5Ô∏è‚É£', 'noValidateRequiredValue')"
          (focus)="onFocus('5Ô∏è‚É£', noValidateRequiredRef, '5Ô∏è‚É£ FOCUS')"
          (blur)="onBlur('5Ô∏è‚É£', noValidateRequiredRef, '5Ô∏è‚É£ BLUR')"
        ></ix-time-input>
        <div style="display: flex; gap: 0.5rem; margin-top: 0.5rem; flex-wrap: wrap">
          <button type="submit" style="padding: 0.4rem 0.8rem; font-size: 0.85rem; border: none; border-radius: 4px; cursor: pointer; background-color: #2196F3; color: white">Submit</button>
          <button type="button" (click)="noValidateRequiredValue = ''" style="padding: 0.4rem 0.8rem; font-size: 0.85rem; border: none; border-radius: 4px; cursor: pointer; background-color: #757575; color: white">Empty</button>
          <button type="button" (click)="noValidateRequiredValue = '14:30:00'" style="padding: 0.4rem 0.8rem; font-size: 0.85rem; border: none; border-radius: 4px; cursor: pointer; background-color: #4caf50; color: white">Valid</button>
          <button type="button" (click)="noValidateRequiredValue = 'invalid'" style="padding: 0.4rem 0.8rem; font-size: 0.85rem; border: none; border-radius: 4px; cursor: pointer; background-color: #ff9800; color: white">Invalid</button>
          <button type="button" (click)="manualBlurAndDebug(noValidateRequiredRef, '5Ô∏è‚É£ MANUAL')" style="padding: 0.4rem 0.8rem; font-size: 0.85rem; border: none; border-radius: 4px; cursor: pointer; background-color: #ff5722; color: white">Manual Blur</button>
          <button type="button" (click)="clearAndLog(noValidateRequiredRef, assignEmpty.bind(this, 'noValidateRequiredValue'), '5Ô∏è‚É£ Cleared')" style="padding: 0.4rem 0.8rem; font-size: 0.85rem; border: none; border-radius: 4px; cursor: pointer; background-color: #9c27b0; color: white">Clear()</button>
        </div>
      </form>
    </div>

    <!-- 6. NoValidate Optional -->
    <div style="border: 1px solid #9c27b0; padding: 1rem; border-radius: 4px">
      <h4 style="margin: 0 0 0.5rem 0; color: #6a1b9a">6Ô∏è‚É£ Optional (NoValidate Form)</h4>
      <form [formGroup]="noValidateForm" (ngSubmit)="onSubmit('6Ô∏è‚É£', 'NoValidate form')" novalidate>
        <ix-time-input
          #noValidateOptionalRef
          name="noValOpt"
          label="Optional Time"
          [value]="noValidateOptionalValue"
          (valueChange)="onValueChange($event, '6Ô∏è‚É£', 'noValidateOptionalValue')"
          (focus)="onFocus('6Ô∏è‚É£', noValidateOptionalRef, '6Ô∏è‚É£ FOCUS')"
          (blur)="onBlur('6Ô∏è‚É£', noValidateOptionalRef, '6Ô∏è‚É£ BLUR')"
        ></ix-time-input>
        <div style="display: flex; gap: 0.5rem; margin-top: 0.5rem; flex-wrap: wrap">
          <button type="submit" style="padding: 0.4rem 0.8rem; font-size: 0.85rem; border: none; border-radius: 4px; cursor: pointer; background-color: #2196F3; color: white">Submit</button>
          <button type="button" (click)="noValidateOptionalValue = ''" style="padding: 0.4rem 0.8rem; font-size: 0.85rem; border: none; border-radius: 4px; cursor: pointer; background-color: #757575; color: white">Empty</button>
          <button type="button" (click)="noValidateOptionalValue = '14:30:00'" style="padding: 0.4rem 0.8rem; font-size: 0.85rem; border: none; border-radius: 4px; cursor: pointer; background-color: #4caf50; color: white">Valid</button>
          <button type="button" (click)="noValidateOptionalValue = 'invalid'" style="padding: 0.4rem 0.8rem; font-size: 0.85rem; border: none; border-radius: 4px; cursor: pointer; background-color: #ff9800; color: white">Invalid</button>
          <button type="button" (click)="manualBlurAndDebug(noValidateOptionalRef, '6Ô∏è‚É£ MANUAL')" style="padding: 0.4rem 0.8rem; font-size: 0.85rem; border: none; border-radius: 4px; cursor: pointer; background-color: #ff5722; color: white">Manual Blur</button>
          <button type="button" (click)="clearAndLog(noValidateOptionalRef, assignEmpty.bind(this, 'noValidateOptionalValue'), '6Ô∏è‚É£ Cleared')" style="padding: 0.4rem 0.8rem; font-size: 0.85rem; border: none; border-radius: 4px; cursor: pointer; background-color: #9c27b0; color: white">Clear()</button>
        </div>
      </form>
    </div>

  </div>

  <!-- Event Log -->
  <div style="margin-top: 1rem">
    <h3 style="margin: 0 0 0.5rem 0">ü™µ Event Log</h3>
    <div style="border: 1px solid #ccc; border-radius: 4px; padding: 0.75rem; max-height: 300px; overflow-y: auto; font-family: monospace; font-size: 0.8rem">
      <div *ngIf="logs.length === 0" style="color: #666; font-style: italic">No events yet... Interact with fields above</div>
      <div *ngFor="let log of logs" [ngStyle]="{ 'margin-bottom': '1px', 'padding': '1px 0', 'color': getLogColor(log) }">
        {{ log }}
      </div>
    </div>
  </div>
</div>
