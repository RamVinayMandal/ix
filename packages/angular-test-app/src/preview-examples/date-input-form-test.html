<!--
SPDX-FileCopyrightText: 2025 Siemens AG

SPDX-License-Identifier: MIT

This source code is licensed under the MIT license found in the
LICENSE file in the root directory of this source tree.
-->

<div style="padding: 1rem; font-size: 0.9rem">
  <h2 style="margin-bottom: 0.5rem">Date Input Validation Tests</h2>
  <div style="margin-bottom: 1rem; padding: 0.75rem; border-radius: 4px">
    <strong>Testing:</strong> Required field validation (red border) after blur. Format: YYYY/MM/DD
  </div>

  <button
    (click)="clearLogs()"
    style="padding: 0.4rem 0.8rem; font-size: 0.85rem; border: none; border-radius: 4px; cursor: pointer; color: white; background-color: #757575; margin-bottom: 1rem">
    üßπ Clear Log
  </button>

  <!-- Grid Layout for Examples -->
  <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 1rem; margin-bottom: 1rem">

    <!-- 1. Required Standalone -->
    <div style="border: 1px solid #f44336; padding: 1rem; border-radius: 4px">
      <h4 style="margin: 0 0 0.5rem 0; color: #c62828">1Ô∏è‚É£ Required (Standalone)</h4>
      <ix-date-input
        #requiredRef
        name="req1"
        label="Required Date"
        [required]="true"
        [value]="requiredValue"
        (valueChange)="onValueChange($event, '1Ô∏è‚É£')"
        (focus)="onFocus('1Ô∏è‚É£', requiredRef)"
        (blur)="onBlur('1Ô∏è‚É£', requiredRef)"
      ></ix-date-input>
      <div style="display: flex; gap: 0.5rem; margin-top: 0.5rem; flex-wrap: wrap">
        <button (click)="setValue(requiredRef, '', '1Ô∏è‚É£')" style="padding: 0.4rem 0.8rem; font-size: 0.85rem; border: none; border-radius: 4px; cursor: pointer; background-color: #757575; color: white">Empty</button>
        <button (click)="setValue(requiredRef, '2024/12/25', '1Ô∏è‚É£')" style="padding: 0.4rem 0.8rem; font-size: 0.85rem; border: none; border-radius: 4px; cursor: pointer; background-color: #4caf50; color: white">Valid</button>
        <button (click)="setValue(requiredRef, 'invalid', '1Ô∏è‚É£')" style="padding: 0.4rem 0.8rem; font-size: 0.85rem; border: none; border-radius: 4px; cursor: pointer; background-color: #ff9800; color: white">Invalid</button>
        <button (click)="triggerNativeBlur(requiredRef); debugValidationState(requiredRef, '1Ô∏è‚É£ MANUAL')" style="padding: 0.4rem 0.8rem; font-size: 0.85rem; border: none; border-radius: 4px; cursor: pointer; background-color: #ff5722; color: white">Manual Blur</button>
        <button (click)="clearInput(requiredRef, '1Ô∏è‚É£')" style="padding: 0.4rem 0.8rem; font-size: 0.85rem; border: none; border-radius: 4px; cursor: pointer; background-color: #9c27b0; color: white">Clear()</button>
      </div>
    </div>

    <!-- 2. Optional Standalone -->
    <div style="border: 1px solid #4caf50; padding: 1rem; border-radius: 4px">
      <h4 style="margin: 0 0 0.5rem 0; color: #2e7d32">2Ô∏è‚É£ Optional (Standalone)</h4>
      <ix-date-input
        #optionalRef
        name="opt1"
        label="Optional Date"
        [value]="optionalValue"
        (valueChange)="onValueChange($event, '2Ô∏è‚É£')"
        (focus)="onFocus('2Ô∏è‚É£', optionalRef)"
        (blur)="onBlur('2Ô∏è‚É£', optionalRef)"
      ></ix-date-input>
      <div style="display: flex; gap: 0.5rem; margin-top: 0.5rem; flex-wrap: wrap">
        <button (click)="setValue(optionalRef, '', '2Ô∏è‚É£')" style="padding: 0.4rem 0.8rem; font-size: 0.85rem; border: none; border-radius: 4px; cursor: pointer; background-color: #757575; color: white">Empty</button>
        <button (click)="setValue(optionalRef, '2024/12/25', '2Ô∏è‚É£')" style="padding: 0.4rem 0.8rem; font-size: 0.85rem; border: none; border-radius: 4px; cursor: pointer; background-color: #4caf50; color: white">Valid</button>
        <button (click)="setValue(optionalRef, 'invalid', '2Ô∏è‚É£')" style="padding: 0.4rem 0.8rem; font-size: 0.85rem; border: none; border-radius: 4px; cursor: pointer; background-color: #ff9800; color: white">Invalid</button>
        <button (click)="triggerNativeBlur(optionalRef); debugValidationState(optionalRef, '2Ô∏è‚É£ MANUAL')" style="padding: 0.4rem 0.8rem; font-size: 0.85rem; border: none; border-radius: 4px; cursor: pointer; background-color: #ff5722; color: white">Manual Blur</button>
        <button (click)="clearInput(optionalRef, '2Ô∏è‚É£')" style="padding: 0.4rem 0.8rem; font-size: 0.85rem; border: none; border-radius: 4px; cursor: pointer; background-color: #9c27b0; color: white">Clear()</button>
      </div>
    </div>

    <!-- 3. Form Required -->
    <div style="border: 1px solid #2196F3; padding: 1rem; border-radius: 4px">
      <h4 style="margin: 0 0 0.5rem 0; color: #1565c0">3Ô∏è‚É£ Required (In Form)</h4>
      <form ngNativeValidate (ngSubmit)="onSubmit('3Ô∏è‚É£')">
        <ix-date-input
          #formRequiredRef
          name="formReq"
          label="Required Date"
          [required]="true"
          [value]="formRequiredValue"
          (valueChange)="onValueChange($event, '3Ô∏è‚É£')"
          (focus)="onFocus('3Ô∏è‚É£', formRequiredRef)"
          (blur)="onBlur('3Ô∏è‚É£', formRequiredRef)"
        ></ix-date-input>
        <div style="display: flex; gap: 0.5rem; margin-top: 0.5rem; flex-wrap: wrap">
          <button type="submit" style="padding: 0.4rem 0.8rem; font-size: 0.85rem; border: none; border-radius: 4px; cursor: pointer; background-color: #2196F3; color: white">Submit</button>
          <button type="button" (click)="setValue(formRequiredRef, '', '3Ô∏è‚É£')" style="padding: 0.4rem 0.8rem; font-size: 0.85rem; border: none; border-radius: 4px; cursor: pointer; background-color: #757575; color: white">Empty</button>
          <button type="button" (click)="setValue(formRequiredRef, '2024/12/25', '3Ô∏è‚É£')" style="padding: 0.4rem 0.8rem; font-size: 0.85rem; border: none; border-radius: 4px; cursor: pointer; background-color: #4caf50; color: white">Valid</button>
          <button type="button" (click)="setValue(formRequiredRef, 'invalid', '3Ô∏è‚É£')" style="padding: 0.4rem 0.8rem; font-size: 0.85rem; border: none; border-radius: 4px; cursor: pointer; background-color: #ff9800; color: white">Invalid</button>
          <button type="button" (click)="triggerNativeBlur(formRequiredRef); debugValidationState(formRequiredRef, '3Ô∏è‚É£ MANUAL')" style="padding: 0.4rem 0.8rem; font-size: 0.85rem; border: none; border-radius: 4px; cursor: pointer; background-color: #ff5722; color: white">Manual Blur</button>
          <button type="button" (click)="clearInput(formRequiredRef, '3Ô∏è‚É£')" style="padding: 0.4rem 0.8rem; font-size: 0.85rem; border: none; border-radius: 4px; cursor: pointer; background-color: #9c27b0; color: white">Clear()</button>
        </div>
      </form>
    </div>

    <!-- 4. Form Optional -->
    <div style="border: 1px solid #009688; padding: 1rem; border-radius: 4px">
      <h4 style="margin: 0 0 0.5rem 0; color: #00695c">4Ô∏è‚É£ Optional (In Form)</h4>
      <form ngNativeValidate (ngSubmit)="onSubmit('4Ô∏è‚É£')">
        <ix-date-input
          #formOptionalRef
          name="formOpt"
          label="Optional Date"
          [value]="formOptionalValue"
          (valueChange)="onValueChange($event, '4Ô∏è‚É£')"
          (focus)="onFocus('4Ô∏è‚É£', formOptionalRef)"
          (blur)="onBlur('4Ô∏è‚É£', formOptionalRef)"
        ></ix-date-input>
        <div style="display: flex; gap: 0.5rem; margin-top: 0.5rem; flex-wrap: wrap">
          <button type="submit" style="padding: 0.4rem 0.8rem; font-size: 0.85rem; border: none; border-radius: 4px; cursor: pointer; background-color: #2196F3; color: white">Submit</button>
          <button type="button" (click)="setValue(formOptionalRef, '', '4Ô∏è‚É£')" style="padding: 0.4rem 0.8rem; font-size: 0.85rem; border: none; border-radius: 4px; cursor: pointer; background-color: #757575; color: white">Empty</button>
          <button type="button" (click)="setValue(formOptionalRef, '2024/12/25', '4Ô∏è‚É£')" style="padding: 0.4rem 0.8rem; font-size: 0.85rem; border: none; border-radius: 4px; cursor: pointer; background-color: #4caf50; color: white">Valid</button>
          <button type="button" (click)="setValue(formOptionalRef, 'invalid', '4Ô∏è‚É£')" style="padding: 0.4rem 0.8rem; font-size: 0.85rem; border: none; border-radius: 4px; cursor: pointer; background-color: #ff9800; color: white">Invalid</button>
          <button type="button" (click)="triggerNativeBlur(formOptionalRef); debugValidationState(formOptionalRef, '4Ô∏è‚É£ MANUAL')" style="padding: 0.4rem 0.8rem; font-size: 0.85rem; border: none; border-radius: 4px; cursor: pointer; background-color: #ff5722; color: white">Manual Blur</button>
          <button type="button" (click)="clearInput(formOptionalRef, '4Ô∏è‚É£')" style="padding: 0.4rem 0.8rem; font-size: 0.85rem; border: none; border-radius: 4px; cursor: pointer; background-color: #9c27b0; color: white">Clear()</button>
        </div>
      </form>
    </div>

    <!-- 5. NoValidate Required -->
    <div style="border: 1px solid #ff9800; padding: 1rem; border-radius: 4px">
      <h4 style="margin: 0 0 0.5rem 0; color: #e65100">5Ô∏è‚É£ Required (NoValidate Form)</h4>
      <form novalidate (ngSubmit)="onSubmit('5Ô∏è‚É£')">
        <ix-date-input
          #noValidateRequiredRef
          name="noValReq"
          label="Required Date"
          [required]="true"
          [value]="noValidateRequiredValue"
          (valueChange)="onValueChange($event, '5Ô∏è‚É£')"
          (focus)="onFocus('5Ô∏è‚É£', noValidateRequiredRef)"
          (blur)="onBlur('5Ô∏è‚É£', noValidateRequiredRef)"
        ></ix-date-input>
        <div style="display: flex; gap: 0.5rem; margin-top: 0.5rem; flex-wrap: wrap">
          <button type="submit" style="padding: 0.4rem 0.8rem; font-size: 0.85rem; border: none; border-radius: 4px; cursor: pointer; background-color: #2196F3; color: white">Submit</button>
          <button type="button" (click)="setValue(noValidateRequiredRef, '', '5Ô∏è‚É£')" style="padding: 0.4rem 0.8rem; font-size: 0.85rem; border: none; border-radius: 4px; cursor: pointer; background-color: #757575; color: white">Empty</button>
          <button type="button" (click)="setValue(noValidateRequiredRef, '2024/12/25', '5Ô∏è‚É£')" style="padding: 0.4rem 0.8rem; font-size: 0.85rem; border: none; border-radius: 4px; cursor: pointer; background-color: #4caf50; color: white">Valid</button>
          <button type="button" (click)="setValue(noValidateRequiredRef, 'invalid', '5Ô∏è‚É£')" style="padding: 0.4rem 0.8rem; font-size: 0.85rem; border: none; border-radius: 4px; cursor: pointer; background-color: #ff9800; color: white">Invalid</button>
          <button type="button" (click)="triggerNativeBlur(noValidateRequiredRef); debugValidationState(noValidateRequiredRef, '5Ô∏è‚É£ MANUAL')" style="padding: 0.4rem 0.8rem; font-size: 0.85rem; border: none; border-radius: 4px; cursor: pointer; background-color: #ff5722; color: white">Manual Blur</button>
          <button type="button" (click)="clearInput(noValidateRequiredRef, '5Ô∏è‚É£')" style="padding: 0.4rem 0.8rem; font-size: 0.85rem; border: none; border-radius: 4px; cursor: pointer; background-color: #9c27b0; color: white">Clear()</button>
        </div>
      </form>
    </div>

    <!-- 6. NoValidate Optional -->
    <div style="border: 1px solid #9c27b0; padding: 1rem; border-radius: 4px">
      <h4 style="margin: 0 0 0.5rem 0; color: #6a1b9a">6Ô∏è‚É£ Optional (NoValidate Form)</h4>
      <form novalidate (ngSubmit)="onSubmit('6Ô∏è‚É£')">
        <ix-date-input
          #noValidateOptionalRef
          name="noValOpt"
          label="Optional Date"
          [value]="noValidateOptionalValue"
          (valueChange)="onValueChange($event, '6Ô∏è‚É£')"
          (focus)="onFocus('6Ô∏è‚É£', noValidateOptionalRef)"
          (blur)="onBlur('6Ô∏è‚É£', noValidateOptionalRef)"
        ></ix-date-input>
        <div style="display: flex; gap: 0.5rem; margin-top: 0.5rem; flex-wrap: wrap">
          <button type="submit" style="padding: 0.4rem 0.8rem; font-size: 0.85rem; border: none; border-radius: 4px; cursor: pointer; background-color: #2196F3; color: white">Submit</button>
          <button type="button" (click)="setValue(noValidateOptionalRef, '', '6Ô∏è‚É£')" style="padding: 0.4rem 0.8rem; font-size: 0.85rem; border: none; border-radius: 4px; cursor: pointer; background-color: #757575; color: white">Empty</button>
          <button type="button" (click)="setValue(noValidateOptionalRef, '2024/12/25', '6Ô∏è‚É£')" style="padding: 0.4rem 0.8rem; font-size: 0.85rem; border: none; border-radius: 4px; cursor: pointer; background-color: #4caf50; color: white">Valid</button>
          <button type="button" (click)="setValue(noValidateOptionalRef, 'invalid', '6Ô∏è‚É£')" style="padding: 0.4rem 0.8rem; font-size: 0.85rem; border: none; border-radius: 4px; cursor: pointer; background-color: #ff9800; color: white">Invalid</button>
          <button type="button" (click)="triggerNativeBlur(noValidateOptionalRef); debugValidationState(noValidateOptionalRef, '6Ô∏è‚É£ MANUAL')" style="padding: 0.4rem 0.8rem; font-size: 0.85rem; border: none; border-radius: 4px; cursor: pointer; background-color: #ff5722; color: white">Manual Blur</button>
          <button type="button" (click)="clearInput(noValidateOptionalRef, '6Ô∏è‚É£')" style="padding: 0.4rem 0.8rem; font-size: 0.85rem; border: none; border-radius: 4px; cursor: pointer; background-color: #9c27b0; color: white">Clear()</button>
        </div>
      </form>
    </div>

  </div> <!-- End of grid -->

  <!-- Event Log -->
  <div style="margin-top: 1rem">
    <h3 style="margin: 0 0 0.5rem 0">ü™µ Event Log</h3>
    <div style="border: 1px solid #ccc; border-radius: 4px; padding: 0.75rem; max-height: 300px; overflow-y: auto; font-family: monospace; font-size: 0.8rem">
      <div *ngIf="logs.length === 0" style="color: #666; font-style: italic">No events yet... Interact with fields above</div>
      <div *ngFor="let log of logs"
           [ngStyle]="{'color': log.message.includes('‚ùå') ? '#d32f2f' : (log.message.includes('BLUR') || log.message.includes('FOCUS') || log.message.includes('MANUAL')) ? '#1976d2' : (log.message.includes('‚úÖ') ? '#388e3c' : 'inherit')}">
        {{ log.message }}
      </div>
    </div>
  </div>
</div>
